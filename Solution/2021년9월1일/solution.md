> # Node.js는 Spring처럼 별도의 웹서버 소프트웨어가 필요없나요?
Java의 프레임워크인 Spring에서는 Apache나 Tomcat등의 별도의 웹서버 소프트웨어를 이용하여 웹서버를 동작시키는 장면을 자주 보았습니다.<br>
그런데 저는 Node.js를 공부하며 한번도 웹 서버 설정을 해본 적이 없어서 딱히 필요가 없는 줄 알고 넘어갔었습니다.<br>
하지만 그냥 넘기기엔 기분이 찜찜해서 질문합니다.<br>

# 해결안
앞서 질문에서 말한 Apache와 Tomcat은 각각 Web Server와 WAS의 한 종류이다.<br>
그러니 질문에 답하기 전에, 우리는 Web Server와 WAS에 대해 알 필요가 있어 보인다.<br>

### Web Server

> **Web Server**<br>
ㄴ 클라이언트의 요청에 의해 **정적 파일**을 제공하는 서버

이 때, **정적 파일**이라 하면 `html`, `css`, `이미지`등으로 한정된다.<br>
Web Server의 종류로는 **Apache, NginX, IIS**등이 있다.<br><br>

추가적으로 이건 내가 헷갈렸던 부분인데,<br>
Web Server를 `소프트웨어`로 부를 수도, `하드웨어`로 부를 수도 있다.<br><br>

Apache와 같이 클라이언트의 요청에 의해 정적 파일을 제공하는 `소프트웨어`를 보고 **Web Server**라고 하지만,<br>
이러한 소프트웨어를 실행시키는 역할인 컴퓨터, 즉 `하드웨어` 또한 **Web Server**라고 부르기도 한다.

### WAS(Web Application Server)

> **WAS**<br>
ㄴ Web Server입니다. 근데 이제 Web Container를 곁들인...

클라이언트의 요청을 받아 DB 조회, 로직 처리, `JSP`와 `Servlet` 등을 실행할 수 있는 SW를 **웹 컨테이너**라고 한다.<br>
이처럼 Web Container는 **동적 서버 컨텐츠**를 수행하는 것이 특징이다.<br>
<br>

### Web Server와 WAS의 차이점

정리하자면 Web Server란 정적 파일(html, css, image)등을 응답하는 Server이고, 그거에 동적 파일도 제공을 하면 WAS이다.

> **WAS가 Web Server를 포함하는 개념이라면, 왜 굳이 Web Server와 WAS를 같이 사용하는 것일까?**

### WAS와 Web Server를 분리하여 사용하는 이유
보통 현업에서는 Tomcat 앞에 Apache를 놓는다.
그리고 많은 개발자들이 Tomcat은 정적인 파일을 처리하는 면에서 Apache Httpd만 못한다고 생각하고 있다.
<br>

> **그러나 여기서 잠깐!**
**Tomcat 3을 사용하는게 아니라면 위의 내용은 맞지 않다.**

Tomcat 5.5부터는 Httpd의 native 모듈을 사용해서 정적파일을 처리하는 기능을 제공한다.<br>
이 경우 Httpd와 Tomcat이 같은 모듈을 사용하는 셈이니 성능에서 차이가 날 이유가 없다.<br><br>
실제로 Tomcat에서 native 모듈을 사용하는 것과 순수하게 Apache Httpd를 비교 해본 결과, 성능이 전혀 떨어지지 않았다.<br>
따라서 위의 이유만으로는 불필요하다.<br>
오히려 메모리만 많이 먹고 관리부담은 커지고, 불필요한 부하만 걸릴 뿐이다.<br>
<br>

위 내용 제외하고도 분리하여 사용하는 이유는 많다.
1. 기능을 분리하여 서버의 부하를 방지한다.
2. 물리적으로 분리하여, 웹 서버를 한번 거치고 서비스를 제공하게 해서 보안상의 이점을 가질 수 있다
3. 여러 대의 WAS를 연결하여 로드 밸런싱의 역할 및 fail over, fail back 처리에 유리하게 할 수 있다.
4. 여러 웹어플리케이션(java, c#, php 등등)을 하나의 웹서비스를 통해 서비스가 가능케 한다.
5. WAS에 문제가 생겼을 때, Web Server에서 고장난 WAS로 사용자를 보내지 않고, 그 시간동안 이를 복구시킨다면 사용자는 끊김없이 서버에서 서비스를 제공받게 할 수 있다.

### Node.js는 이러한 WAS, Web Server와 같은 개념과 무엇이 다른가요?
Node.js는 내장 HTTP 서버 라이브러리를 포함하고 있어 웹 서버에서 Apache등의 별도의 소프트웨어 없이 동작하는 것이 가능하며 이를 통해 웹 서버의 동작에 있어 더 많은 통제를 가능케한다.
<br>
Node.js는 정적 파일 제공과 언어 해석, 모두 담당하는 WAS라고 봐도 무관하다.<br>
<br>

그렇다고 Node.js를 사용하면 NginX와 같은 웹 서버를 사용하지 않는 것은 아니다.<br>
기업에서는 NginX나 Apache등의 그동안 쌓인 기술들을 활용하여 이를 **리버스 프록시 서버**로 활용하여 보안상의 이점과 캐싱등을 통해 속도상의 이점을 갖는다.

