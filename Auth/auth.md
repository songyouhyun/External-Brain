# μΈμ¦κ³Ό μΈκ°€λ€?
<div align="center">
    <img src="auth.png">
</div>

## π μΈμ¦(Authentication) & μΈκ°€(Authorization)
μΈμ¦κ³Ό μΈκ°€λ” APIμ—μ„ κ°€μ¥ λ§μ΄ κµ¬ν„λλ” κΈ°λ¥ μ¤‘ ν•λ‚

---

### 1οΈβƒ£ μΈμ¦(Authentication)

μ μ €μ identificationμ„ ν™•μΈν•λ” μ μ°¨, μ‰½κ² μ„¤λ…ν•λ©΄ μ μ €μ Idμ™€ Passwordλ¥Ό ν™•μΈν•λ” μ μ°¨,<br>
μΈμ¦μ„ ν•κΈ° μ„ν•΄μ„  λ¨Όμ € μ μ €μ Idμ™€ Passwordλ¥Ό μƒμ„±ν•  μ μλ” κΈ°λ¥μ΄ ν•„μ”ν•λ‹¤.

#### π“ λ΅κ·ΈμΈ μ μ°¨
1. μ μ € Idμ™€ Password μƒμ„±
1. μ μ € Password μ•”νΈν™” ν›„ DBμ— μ €μ¥
1. μ μ €κ°€ μ…λ ¥ν• Password μ•”νΈν™” ν›„ μ•”νΈν™” λΌμ„ DBμ— μ €μ¥λ μ μ € Passwordμ™€ μΌμΉμ—¬λ¶€ λΉ„κµ
1. μΌμΉν•λ©΄ λ΅κ·ΈμΈ μ„±κ³µ
1. λ΅κ·ΈμΈ μ„±κ³µ ν›„ access tokenμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
1. λ΅κ·ΈμΈ μ„±κ³µ ν›„μ—λ” requestμ— access tokenμ„ μ²¨λ¶€ν•΄μ„ μ„λ²„μ— μ „μ†΅ν•¨μΌλ΅μ¨ λ§¤λ² λ΅κ·ΈμΈ ν•  ν•„μ”κ°€ μ—†λ„λ΅ ν•λ‹¤.
<br>

#### π“ μ μ € Password μ•”νΈν™”
* μ μ €μ λΉ„λ°€λ²νΈλ” κΌ­ μ•”νΈν™” ν•΄μ„ DBμ— μ €μ¥ν•΄μ•Ό ν•λ‹¤!

* μ•”νΈν™”μ—λ” λ‹¨λ°©ν–¥ ν•΄μ‰¬ ν•¨μ(one-way hash function)κ°€ μΌλ°μ μΌλ΅ μ“°μΈλ‹¤.

* λ‹¨λ°©ν–¥ ν•΄μ‹ ν•¨μλ” μ›λ³Έ λ©”μ‹μ§€λ¥Ό λ³€ν™ν•μ—¬ μ•”νΈν™”λ λ©”μ‹μ§€μΈ λ‹¤μ΄μ μ¤νΈ(digest) λ¥Ό μƒμ„±ν•λ‹¤.<br>μ›λ³Έ λ©”μ‹μ§€λ¥Ό μ•λ©΄ μ•”νΈν™”λ λ©”μ‹μ§€λ¥Ό κµ¬ν•κΈ°λ” μ‰½μ§€λ§ μ•”νΈν™”λ λ©”μ‹μ§€λ΅λ” μ›λ³Έ λ©”μ‹μ§€λ¥Ό κµ¬ν•  μ μ—†μ–΄μ„ λ‹¨λ°©ν–¥μ„±(one-way) μ΄λΌκ³  ν•λ‹¤.

#### π“ [Bcrypt](./Bcrypt.md)
#### π“ [JWT](./JWT.md)

Bycryptμ™€ JWTλ” λ‚΄μ©μ΄ μΆ€ λ§μ•„μ„ λ” μμ„Έν μ•μ•„λ³΄μ•λ‹¤.

---
### 2οΈβƒ£ μΈκ°€(Authorization)
μ μ €κ°€ μ”μ²­ν•λ” requestλ¥Ό μ‹¤ν–‰ν•  μ μλ” κ¶ν•μ΄ μλ” μ μ €μΈκ°€λ¥Ό ν™•μΈν•λ” μ μ°¨<br>
Authorizationλ„ JWTλ¥Ό ν†µν•΄μ„(access tokenμ„ ν†µν•΄ ν•΄λ‹Ή μ μ €μ κ¶ν• ν™•μΈ) κµ¬ν„λ  μ μλ‹¤.

#### π“ Authorization μ μ°¨
1. Authentication μ μ°¨λ¥Ό ν†µν•΄ μ μ € μ •λ³΄λ¥Ό ν™•μΈν•  μ μλ” μ •λ³΄κ°€ λ‹΄κΈ΄(ex. user id) access tokenμ„ μƒμ„±

2. μ μ €κ°€ requestλ¥Ό λ³΄λ‚Ό λ•, access tokenμ„ μ²¨λ¶€ν•΄μ„ λ³΄λ‚Έλ‹¤.

3. μ„λ²„μ—μ„ μ μ €κ°€ λ³΄λ‚Έ access tokenμ„ λ³µνΈν™” ν•λ‹¤.

4. λ³µνΈν™”λ λ°μ΄ν„°λ¥Ό ν†µν•΄ user idλ¥Ό μ–»λ”λ‹¤.

5. user idλ¥Ό μ‚¬μ©ν•μ—¬ databaseμ—μ„ ν•΄λ‹Ή μ μ €μ κ¶ν•μ„ ν™•μΈ

6. μ μ €κ°€ μ¶©λ¶„ν• κ¶ν•μ΄ μμ„ κ²½μ° ν•΄λ‹Ή μ”μ²­μ„ μ²λ¦¬

7. μ μ €κ°€ κ¶ν•μ΄ μ—†λ‹¤λ©΄ Unauthorized Response(401) νΉμ€ λ‹¤λ¥Έ μ—λ¬μ½”λ“λ¥Ό λ³΄λ‚Έλ‹¤.